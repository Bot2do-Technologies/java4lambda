version: 0.1

phases:
  build:
    commands:
      - chmod +x gradlew
      - ./gradlew build
  install:
    commands:
      - aws cloudformation package --template-file cloudformation-input-template.yml --s3-bucket java4lambda-bucket --output-template-file output-template.yml

artifacts:
  files:
    - build/distributions/java4lambda.zip
    - output-template.yml
  discard-paths: yes